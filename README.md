# üìö BookClub TMA

Telegram Mini App –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–Ω–∏–∂–Ω—ã–º –∫–ª—É–±–æ–º —Å —Å–∏—Å—Ç–µ–º–æ–π –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è.

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üîç **–ü–æ–∏—Å–∫ –∫–Ω–∏–≥** —á–µ—Ä–µ–∑ Google Books API
- üìù **–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –∫–Ω–∏–≥** –¥–ª—è —á—Ç–µ–Ω–∏—è –≤ –∫–ª—É–±–µ  
- üó≥Ô∏è **–ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ** –∑–∞ –ª—é–±–∏–º—ã–µ –∫–Ω–∏–≥–∏
- üëë **–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å** –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏—Ç–µ—Ä–∞—Ü–∏—è–º–∏
- üì¢ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∞–Ω–æ–Ω—Å—ã** —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ Telegram –∫–∞–Ω–∞–ª
- üåç **–ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å** (–†—É—Å—Å–∫–∏–π/English)

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Frontend      ‚îÇ    ‚îÇ    Backend      ‚îÇ    ‚îÇ   External      ‚îÇ
‚îÇ   (Next.js)     ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ   (NestJS)      ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ   Services      ‚îÇ
‚îÇ                 ‚îÇ    ‚îÇ                 ‚îÇ    ‚îÇ                 ‚îÇ
‚îÇ ‚Ä¢ React/TS      ‚îÇ    ‚îÇ ‚Ä¢ PostgreSQL    ‚îÇ    ‚îÇ ‚Ä¢ Google Books  ‚îÇ
‚îÇ ‚Ä¢ TMA SDK       ‚îÇ    ‚îÇ ‚Ä¢ Redis Cache   ‚îÇ    ‚îÇ ‚Ä¢ Telegram Bot  ‚îÇ
‚îÇ ‚Ä¢ CSS-in-JS     ‚îÇ    ‚îÇ ‚Ä¢ Prisma ORM    ‚îÇ    ‚îÇ ‚Ä¢ Render Host   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Node.js 18+
- PostgreSQL
- Redis  
- Telegram Bot Token

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. **–ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:**
```bash
git clone https://github.com/yourusername/bookclub-tma.git
cd bookclub-tma
```

2. **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:**
```bash
# Backend
cd apps/api
npm install

# Frontend  
cd ../web
npm install
```

3. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è:**

**Backend (`apps/api/.env`):**
```env
DATABASE_URL="postgresql://user:password@localhost:5432/bookclub"
REDIS_URL="redis://localhost:6379"
TELEGRAM_BOT_TOKEN="your_bot_token"
TELEGRAM_CHANNEL_ID="@your_channel"
JWT_SECRET="your_jwt_secret"
PORT=3000
```

**Frontend (`apps/web/.env.local`):**
```env
NEXT_PUBLIC_API_URL="http://localhost:3000"
```

4. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:**
```bash
cd apps/api
npx prisma migrate deploy
npx prisma generate
```

5. **–ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:**
```bash
# Backend
cd apps/api
npm run start:dev

# Frontend (–≤ –Ω–æ–≤–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ)
cd apps/web  
npm run dev
```

## üì± –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

1. **–ü–æ–∏—Å–∫ –∫–Ω–∏–≥:** –í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∏–ª–∏ –∞–≤—Ç–æ—Ä–∞
2. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ:** –í—ã–±–µ—Ä–∏—Ç–µ –∫–Ω–∏–≥—É –∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ–∏—Å–∫–∞
3. **–ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ:** –í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–Ω—Ä–∞–≤–∏–≤—à—É—é—Å—è –∫–Ω–∏–≥—É –≤ —Ç–µ–∫—É—â–µ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏
4. **–ò—Å—Ç–æ—Ä–∏—è:** –ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–æ—à–ª—ã—Ö –∏—Ç–µ—Ä–∞—Ü–∏–π

### –î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤

1. **–°–æ–∑–¥–∞–Ω–∏–µ –∏—Ç–µ—Ä–∞—Ü–∏–∏:** –£–∫–∞–∂–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∏ –¥–µ–¥–ª–∞–π–Ω
2. **–û—Ç–∫—Ä—ã—Ç–∏–µ:** –†–∞–∑—Ä–µ—à–∏—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –¥–æ–±–∞–≤–ª—è—Ç—å –∫–Ω–∏–≥–∏
3. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** –û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å
4. **–ó–∞–∫—Ä—ã—Ç–∏–µ:** –ó–∞–≤–µ—Ä—à–∏—Ç–µ –∏—Ç–µ—Ä–∞—Ü–∏—é –∏ –æ–±—ä—è–≤–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

## üõ†Ô∏è API

### –û—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

```http
# –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
POST /auth/telegram/init

# –ü–æ–∏—Å–∫ –∫–Ω–∏–≥  
GET /books/search?q=query

# –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞–Ω–¥–∏–¥–∞—Ç–∞–º–∏
POST /candidates
DELETE /candidates/:id

# –ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ
POST /votes

# –ò—Ç–µ—Ä–∞—Ü–∏–∏ (–∞–¥–º–∏–Ω)
POST /iterations
PATCH /iterations/:id/open
PATCH /iterations/:id/close
```

–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: [API_CONTROLLERS.md](./API_CONTROLLERS.md)

## üéØ –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –∏—Ç–µ—Ä–∞—Ü–∏–∏

```mermaid
stateDiagram-v2
    [*] --> PLANNED : –ê–¥–º–∏–Ω —Å–æ–∑–¥–∞–µ—Ç
    PLANNED --> OPEN : –ê–¥–º–∏–Ω –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç
    OPEN --> CLOSED : –ó–∞–∫—Ä—ã—Ç–∏–µ/–¥–µ–¥–ª–∞–π–Ω
    CLOSED --> [*] : –ê–Ω–æ–Ω—Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
```

1. **PLANNED** - –ò—Ç–µ—Ä–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞, –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–Ω–∏–≥ –∑–∞–ø—Ä–µ—â–µ–Ω–æ
2. **OPEN** - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å –∫–Ω–∏–≥–∏ –∏ –≥–æ–ª–æ—Å–æ–≤–∞—Ç—å  
3. **CLOSED** - –ò—Ç–µ—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞, —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–±—ä—è–≤–ª–µ–Ω—ã

## üîß –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
bookclub-tma/
‚îú‚îÄ‚îÄ apps/
‚îÇ   ‚îú‚îÄ‚îÄ api/           # NestJS Backend
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ prisma/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ package.json
‚îÇ   ‚îî‚îÄ‚îÄ web/           # Next.js Frontend
‚îÇ       ‚îú‚îÄ‚îÄ src/
‚îÇ       ‚îú‚îÄ‚îÄ public/
‚îÇ       ‚îî‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ packages/
‚îÇ   ‚îî‚îÄ‚îÄ shared/        # –û–±—â–∏–µ —Ç–∏–ø—ã
‚îî‚îÄ‚îÄ docs/              # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

### –ö–æ–º–∞–Ω–¥—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

```bash
# Backend
npm run start:dev      # –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
npm run build         # –°–±–æ—Ä–∫–∞
npm run test          # –¢–µ—Å—Ç—ã

# Frontend  
npm run dev           # –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
npm run build         # –°–±–æ—Ä–∫–∞
npm run lint          # –õ–∏–Ω—Ç–µ—Ä
```

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

```bash
# –ú–∏–≥—Ä–∞—Ü–∏–∏
npx prisma migrate dev
npx prisma migrate deploy

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–∞
npx prisma generate

# –°—Ç—É–¥–∏—è –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –¥–∞–Ω–Ω—ã—Ö
npx prisma studio
```

## üöÄ –î–µ–ø–ª–æ–π–º–µ–Ω—Ç

### Render.com

1. **–°–æ–∑–¥–∞–π—Ç–µ —Å–µ—Ä–≤–∏—Å** –Ω–∞ Render
2. **–ü–æ–¥–∫–ª—é—á–∏—Ç–µ GitHub** —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è**
4. **–î–µ–ø–ª–æ–π –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** –ø–æ –∫–æ–º–º–∏—Ç—É

### Build –∫–æ–º–∞–Ω–¥—ã:

**Backend:**
```bash
cd apps/api && npm install && npm run build
```

**Start –∫–æ–º–∞–Ω–¥–∞:**
```bash  
cd apps/api && npm run start:prod
```

**Frontend:**
```bash
cd apps/web && npm install && npm run build
```

## üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [API Controllers](./API_CONTROLLERS.md) - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API
- [Architecture](./ARCHITECTURE.md) - –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞  
- [Admin Setup](./ADMIN_SETUP.md) - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∞–≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

## ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

1. –§–æ—Ä–∫ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
2. –°–æ–∑–¥–∞–π—Ç–µ feature –≤–µ—Ç–∫—É (`git checkout -b feature/AmazingFeature`)
3. –ö–æ–º–º–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π (`git commit -m 'Add AmazingFeature'`)  
4. Push –≤ –≤–µ—Ç–∫—É (`git push origin feature/AmazingFeature`)
5. –û—Ç–∫—Ä–æ–π—Ç–µ Pull Request

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç MIT –ª–∏—Ü–µ–Ω–∑–∏—é. –°–º. —Ñ–∞–π–ª [LICENSE](LICENSE) –¥–ª—è –¥–µ—Ç–∞–ª–µ–π.

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

- üìß Email: your.email@example.com
- üí¨ Telegram: @yourusername
- üêõ Issues: [GitHub Issues](https://github.com/yourusername/bookclub-tma/issues)

## üôè –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏

- [Telegram Mini Apps](https://core.telegram.org/bots/webapps) –∑–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—É
- [Google Books API](https://developers.google.com/books) –∑–∞ –¥–∞–Ω–Ω—ã–µ –æ –∫–Ω–∏–≥–∞—Ö
- [NestJS](https://nestjs.com/) –∏ [Next.js](https://nextjs.org/) –∫–æ–º–∞–Ω–¥—ã –∑–∞ –æ—Ç–ª–∏—á–Ω—ã–µ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏
